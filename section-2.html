<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>section 2</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <section>
        <div class="container">
            <div class="title" t>
                <span>
                    Планировка квартир
                </span>
            </div>
            <div class="tabs">
                <div>
                    <div class="tab active"><span>01 | комнатные</span></div>
                    <div class="tab"><span>02 | комнатные</span></div>
                </div>
                <div>
                    <div class="tab"><span>03 | комнатные</span></div>
                    <div class="tab"><span>04 | комнатные</span></div>
                </div>
                <div class="tab"><span>05 | комнатные</span></div>
            </div>
            <div class="preview">
                <div class="wrapper">
                    <div class="col">
                        <div class="img">
                            <img src="assets/images/painted_room.png" alt="">
                        </div>
                    </div>
                    <div class="col">
                        <div class="info">
                            <div class="title">
                                <span>Квартира 146</span>
                            </div>
                            <p class="item">Общая площадь <span>|</span> 79,02 м</p>
                            <p class="item">Жилая площадь <span>|</span> 34,29 м</p>
                            <p class="item">Срок сдачи <span>|</span> 3 квартал 2021</p>
                            <p class="item last">Цена за м <span>|</span> 15 300 грн/м</p>
                            <div class="btn">
                                <span>Оставить заявку</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script src="assets/js/anime.js"></script>
    <script>
        const tabs = document.querySelectorAll('.tabs .tab')
        const info = document.querySelector('.info')
        const data = [
            {
                title: 'Квартира 146',
                all: '79.02',
                some: '34.29',
                date: '3 квартал 2021',
                price: ' 15 300 грн/м',
                img: 'assets/images/painted_room.png'
            },
            {
                title: 'title2',
                all: '79.02',
                some: '34.29',
                date: '3 квартал 2021',
                price: ' 15 300 грн/м',
                img: 'assets/images/painted_room.png'
            },
            {
                title: 'title3',
                all: '79.02 ',
                some: '34.29 ',
                date: '3 квартал 2021',
                price: ' 15 300 грн/м',
                img: 'assets/images/painted_room.png'
            },
            {
                title: 'title4',
                all: '79.02 ',
                some: '34.18 ',
                date: '3 квартал 2021',
                price: ' 15 300 грн/м',
                img: 'assets/images/painted_room.png'
            },
            {
                title: 'title5',
                all: '79.02',
                some: '34.29',
                date: '3 квартал 2021',
                price: ' 15 300 грн/м',
                img: 'assets/images/painted_room.png'
            },
        ]
        for (let i = 0; i < tabs.length; i++) {
            tabs[i].onclick = function () {
                if (!this.className.includes('active')) {
                    let el = this;
                    for (let s = 0; s < tabs.length; s++) {
                        tabs[s].classList.remove('active')
                    }
                    let template = `
                    <div class="title">
                        <span>${data[i].title}</span>
                    </div>
                    <p class="item">Общая площадь <span>|</span> ${data[i].all}м</p>
                    <p class="item">Жилая площадь <span>|</span> ${data[i].some}м</p>
                    <p class="item">Срок сдачи <span>|</span> ${data[i].date}</p>
                    <p class="item last">Цена за м <span>|</span> ${data[i].price}</p>
                    <div class="btn">
                        <span>Оставить заявку</span>
                    </div>
                `
                    info.innerHTML = template;
                    const easing = 'easeOutExpo';
                    const img = document.querySelector('.preview .img')
                    img.querySelector('img').src = data[i].img ? data[i].img : 'assets/images/painted_room.png'
                    anime({
                        targets: img,
                        opacity: [0, 1],
                        translateX: [-300, 0],
                        easing: easing
                    })
                    anime({
                        targets: info.querySelectorAll('p'),
                        opacity: [0, 1],
                        translateX: [-100, 0],
                        easing: easing,
                        delay: anime.stagger(100)
                    })
                    anime({
                        targets: info,
                        translateY: [-200, 0],
                        opacity: [0, 1],
                        easing: easing
                    })
                    anime({
                        targets: info.querySelector('.title'),
                        opacity: [0, 1],
                        easing: easing,
                        translateX: [200, 0]
                    })
                    el.classList.add('active')
                }
            }
        }
    </script>

</body>

</html>